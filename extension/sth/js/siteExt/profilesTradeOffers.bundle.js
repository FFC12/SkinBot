var SIH=function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=111)}([function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){e=decodeURI(e);var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function n(e){return new Promise(function(t){Object.keys(e).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:e},t):t()})}function s(){var e=i(window.location.href);if(e.pathname.indexOf("market/listings/")>-1){var t=e.pathname.split("/");return{appId:t[3],marketHashName:t[4],location:e}}return{}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=".";return e=e.replace(/[^0-9.,]/g,""),e.indexOf(",")>e.indexOf(".")&&(t=","),(e.match(RegExp("\\"+t,"g"))||[]).length>1&&(t=""),""!==t&&e.length-e.indexOf(t)-1==3&&0!==e.indexOf("0"+t)&&(t=""),e=e.replace(RegExp("[^0-9"+t+"]","g"),""),e=e.replace(",","."),parseFloat(e)}function d(e){return(+e.toFixed(2)).toLocaleString("ru").replace(",",".")}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=i,t.getPriceFromSteam=n,t.getPageParams=s,t.parseNumber=o,a.d(t,"localStorageJSON",function(){return c}),a.d(t,"App",function(){return f}),t.formatNumber=d,a.d(t,"SihAppGlobal",function(){return l}),a.d(t,"SihUserPrices",function(){return u}),a.d(t,"Currency",function(){return p});var c={set:function(e,t){try{t=t||"",localStorage.setItem(e,JSON.stringify(t))}catch(e){}},get:function(e){try{var t=localStorage.getItem(e)||null;return JSON.parse(t)}catch(e){return null}}},f={getManifest:function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},e)}).then(function(e){return e.data})}},l=function(){function e(){r(this,e)}return e.getLoginSihAppUser=function(){return new Promise(function(e,t){sih_app_account?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(t){t.success&&0!==Object.keys(t).length||chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},function(t){e(t)}),e(t.success&&Object.keys(t).length>0?t:{success:!1})}):e({success:!1,auth:!1})})},e.getSubscribeAds=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},function(t){e(t)})})},e.getSubscribeAdsPlans=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP"},function(t){e(t)})})},e.errorHandler=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Please, try again";r.toLowerCase().includes("invalid token or session is over")&&(e.text(SIHLang.subscribeAds.modal.reload_page),e.off("click").click(function(){window.location.reload()})),0===a.length?t.append('<span class="sih-modal__text sih-modal__error_message">Error! '+r+"</span>"):(a.text("Error! "+r),a.hasClass("blink")?(a.removeClass("blink"),setTimeout(function(){a.addClass("blink")},100)):a.addClass("blink")),e.removeClass("animated-background"),t.show()},e}(),u=function(){function e(){r(this,e)}return e.sendItemData=function(e,t,a,r){try{var i=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(i.buy_order_graph)),s=JSON.parse(JSON.stringify(i.sell_order_graph));if(!t||5!==r)return!1;if(!g_steamID)return!1;if(0===s.length)return;s.length>5?s.length=5:s.length,n.length>1?n.length=1:n.length;for(var o=[],d=s.length-1;d>=0;d--){var c=s[d][0],f=0!==d?s[d][1]-s[d-1][1]:s[d][1];o.unshift({price:c,count:f})}var l=n[0][0],u=n[0][1],p={app_id:t,hash_name:a,prices:o,steamid:g_steamID};if(n.length){var _={price:l,count:u};Object.assign(p,{buy_price:_})}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:p})}catch(e){}},e}(),p=function(){function e(){r(this,e)}return e.getPriceFromCurrency=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.getCurrency(+a),n=e.getCurrency(+r),s=ExchangeRates._rates[i.strCode],o=ExchangeRates._rates[n.strCode];return"USD"===n.strCode?"USD"!=i.strCode&&(t*=s)<.03&&(t=.03):n.strCode!=i.strCode&&(t=t/o*s)<.03&&(t=.03),{price:t||0,code:i.strCode,symbol:i.strSymbol,text:(i.bSymbolIsPrefix?""+i.strSymbol+i.strSymbolAndNumberSeparator:"")+(t?t.toFixed(2):0)+(i.bSymbolIsPrefix?"":""+i.strSymbolAndNumberSeparator+i.strSymbol),template:(i.bSymbolIsPrefix?""+i.strSymbol+i.strSymbolAndNumberSeparator:"")+"$price"+(i.bSymbolIsPrefix?"":""+i.strSymbolAndNumberSeparator+i.strSymbol),symbolPosition:i.bSymbolIsPrefix?"before":"after"}},e.getCurrency=function(e){var t=null;e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1;for(var a in g_rgCurrencyData)if(g_rgCurrencyData[a].eCurrencyCode===+e){t=g_rgCurrencyData[a];break}return t},e.getCurrencyCodeSteam=function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1},e}()},,,,function(e,t,a){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=s();e?(t.length=e,t.addClass("single_price_loaded active_single_trade"),F=t.find(".trade_item").length):F=t.find(".trade_item").length}function i(e,t,a,r){H++;var i=0,n=1;if(t){if(e.rgItem=x({},t,{prefix:a}),$J(e).addClass("app"+e.rgItem.appid),"730"===e.rgItem.appid)for(var s=e.rgItem.descriptions,o=Array.isArray(s),d=0,s=o?s:s[Symbol.iterator]();;){var l;if(o){if(d>=s.length)break;l=s[d++]}else{if(d=s.next(),d.done)break;l=d.value}var u=l;if(u.value.includes("sticker_info")){var p=u.value,_=$J.parseHTML(p);i=$J(_[1]).find("img").length;var v='<div class="sih_trade_item_sticker">\n                            <span>'+i+"</span>\n                         </div>";$J(e).append(v)}}var h=e.rgItem.appid;0!==M.length&&M.includes(h)||M.push(h);var m=$J(".tradeoffer.active_single_trade");if(m.length>=1){var g=[];m.each(function(e,t){var a=$J(t);M.forEach(function(e){0!==a.find("div.item.app"+e).length&&(g.includes(e)||g.push(e))})}),M=g}H===F&&(r.name&&"steam"===r.name.toLowerCase()?$J(M).each(function(e,t){P.includes(t)?(r.nameForApi="steamprices",MarketplaceSource.GetPrices(t,{market:r.name,currencies:[],nameMarkerForApi:r.nameForApi,marketSort:r.sort},!1,function(){if(n!==M.length)n++;else{var e=c();e.isSteamBySIHLoaded=!0,f(e)}},!0)):SteamBySihSource.GetPrices(t,{market:r.name,marketSort:r.sort},!1,function(){if(n!==M.length)n++;else{var e=c();e.isSteamBySIHLoaded=!0,f(e)}},!0,!1,!0)}):$J(M).each(function(e,t){MarketplaceSource.GetPrices(t,{market:r.name,currencies:[],nameMarkerForApi:r.nameForApi,marketSort:r.sort},!1,function(){if(n!==M.length)n++;else{var e=c();e.isMarketLoaded=!0,f(e)}},!0)}))}}function n(){return["steam","buff163","dmarket","bitskins","skinport","mannco"]}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return F=e.find(".trade_item").length,e;var t=$J(".tradeoffer.single_price_loaded");if(0===t.length){var a=$J(".tradeoffer");return F=a.find(".trade_item").length,a}return F=t.find(".trade_item").length,t}function o(e,t){var a=void 0,r=$J(e).parent().parent().find(".offer_price"),i=$J(e).parent().parent().find(".steam-total-price"),n=RegExp("[0-9]*[.,]?[0-9]+"),s=t.lowestPrice.match(n);s=s?s[0].replace(/,/g,"."):0,1===r.length?(a=0,a+=+s,$J(r).replaceWith('<span class="text steam-total-price">'+a.toFixed(2)+"</span>")):(a=+$J(i).text(),a+=+s,$J(i).text(a.toFixed(2)))}function d(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments[3];if(e.rgItem)return void(a?i(e,e.rgItem,e.rgItem.prefix,r):(e.inited=!0,S(e.rgItem.prefix,e.rgItem,e)));var n=t.split("/");if(5===n.length&&n.pop(),3==n.length||4==n.length){a||(e.inited=!0);var s=null,o=n[0];if("classinfo"==o){o=n[1];s="economy/itemclasshover/"+o+"/"+n[2]+"/"+(n.length>3?n[3]:0),s+="?content_only=1&l=english"}else{var d=n[1],c=n[2];if(null!=w[o+"/"+d+"/"+c])return;var s="economy/itemhover/"+o+"/"+d+"/"+c;if(s+="?content_only=1&omit_owner=1&l=english",4==n.length&&n[3]){var f=n[3];0==f.indexOf("id:")?s+="&o_url="+f.substr(3):s+="&o="+f}}$J.ajax({url:window.location.protocol+"//steamcommunity.com/"+s,cache:!0,data:{l:"english"}}).done(function(t){var n=/BuildHover\( '(.*)', (.*)\);/i.exec(t);if(null!==n){var s=n[1],o=JSON.parse(n[2]);a?i(e,o,s,r):S(s,o,e)}}).error(function(t){i(e,null,null,r)})}}function c(){var e=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(e)}function f(e){var t=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",t)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?s(e):s();setTimeout(function(){t.find(".animated-background").fadeOut(),t.find(".animated-background-profit").fadeOut(),t.find(".p-price").show(),t.find(".rule_total_price").css("opacity",1),t.find(".icons").css("opacity",1),t.find(".sih_tradeoffer_items_rule_percent span").css("opacity",1),t.find(".sih_lot_item").each(function(e,t){$J(t).children(".icon").css("opacity",1),$J(t).children(".text").css("opacity",1)})},500)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?s(e):s();window.location.href.includes("history")&&t.length>L&&(t.length=L),t.hasClass("lite")||(t.find(".animated-background").fadeIn(),t.find(".animated-background-profit").fadeIn()),t.find(".p-price").hide(),t.find(".sih_tradeoffer_items_rule_percent span").height(50),t.find(".sih_tradeoffer_items_rule_percent span").css("opacity",0),t.find(".rule_total_price").css("opacity",0),t.find(".icons").css("opacity",0),t.find(".sih_lot_item").each(function(e,t){$J(t).children(".icon").css("opacity",0),$J(t).children(".text").css("opacity",0)})}function p(){s().each(function(e,t){var a=$J(t).find(".sih_tradeoffer_items_rule_percent");a[0]&&"100"===a[0].dataset.profitPercent&&a.hasClass("profit")?$J(t).addClass("profit"):$J(t).removeClass("profit")})}function _(){var e=void 0;return $J(".rightcol_controls_content").each(function(t,a){0===t&&(e=$J(a).outerHeight())}),e}function v(){var e=window.location.href,t=$J("body").html();if(e.includes("history")||e.includes("sent")){if(!e.includes("sent")){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers/?history=1",txtResponse:t}})}}else{chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers",txtResponse:t}})}}function h(){$J(".tradeoffer_footer").find("a").click(function(){var e=$J(this).attr("href");if(e.match(/DeclineTradeOffer/g)){var t=e.match(/\d+/g)[0];setTimeout(function(){$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click(function(){chrome.runtime.sendMessage(window.SIHID,{type:"TradeCancel",data:{offerId:t}})})},100)}})}function m(e,t){for(var a=0;a<t.length;a++)if(e.includes(t[a])){var r=t[a].replace(/\\u/,"").trim(),i=String.fromCharCode(parseInt(r,16));e=e.replace(t[a],i)}return e}function g(){var e=null;$J("#create_new_url_btn").click(function(){setTimeout(function(){var t=$J("#trade_offer_access_url").val();$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click(function(){e=setInterval(function(){var a=$J("#trade_offer_access_url").val();t!==a&&(clearInterval(e),chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:a}}))},100)})},100)})}function J(e,t){(null!==t&&void 0!==t?t:$J('div[data-economy-item*="'+e.appid+"/"+e.classid+(e.instanceid?"/"+e.instanceid:"")+'"]')).parent(".tradeoffer_item_list").each(function(e,t){var a=$J(this),r=a.find(".total_price"),i=0,n=0,s=0,o=0;a.find(".trade_item").each(function(e){o++;var t=this.rgItem;if(t){if(t.lowestPrice){var a=parseInt(100*parseFloat(getPriceAsInt(t.lowestPrice))),r=window.PriceUtils.publisherFee(t,g_rgWalletInfo,.1),c=CalculateFeeAmount(a,r);n+=(a-c.fees)/100,i+=parseFloat(getPriceAsInt(t.lowestPrice))}"undefined"!=t.gemPrices&&null!=t.gemPrices&&$J.each(t.gemPrices,function(e,t){s+=parseFloat(getPriceAsInt(t.lowestPrice))})}null==this.inited&&d(this,$J(this).attr("data-economy-item"))});var c=formatNumberV2(i)+" ("+formatNumberV2(n)+")";s>0&&(c+=" - Gems total price: "+formatNumberV2(s)),c+=' <span style="float: right; padding-right: 15px">'+o+" item(s)</span>",a.find(".price-flag.no-price").length>0&&r.addClass("warning"),r.html(c)})}function S(e,t,a){var r=$J(a).children(".p-price"),i=$J(r).find(".price_flag.original");if(!t.marketable){$J(i).fadeOut("slow");var n=$J('<div class="price_flag"><span>&nbsp No price</span></div>');return n.addClass("no-price"),void $J(a).children(".p-price").prepend(n)}getLowestPriceHandler(t,e,function(e){var t=$J(a).children(".p-price");t.css("display","flex").show();var r=$J(t).find(".price_flag.original");0==t.find(".price-flag").length&&(setTimeout(function(){$J(r).attr("data-price",""+e.lowestPrice),$J(r).find(".animated-background.silver").fadeOut("slow")},500),J(e,t),o(a,e))}),w[t.appid+"/"+t.classid+(t.instanceid?"/"+t.instanceid:"")]=t,$J('div[data-economy-item*="'+t.appid+"/"+t.classid+(t.instanceid?"/"+t.instanceid:"")+'"]').each(function(e,a){this.rgItem=t})}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{name:"Steam",sort:13}),n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;H=0;var o=c();if(o&&o.mode&&"lite"===o.mode&&(o.market="buff163",f(o)),e)e.find(".trade_item").each(function(){var e=this;if(null==e.inited){d(e,$J(e).attr("data-economy-item"));var a=$J(e).find(".p-price");$J(a).prepend('<div class="price_flag original"><span class="animated-background silver small fake-price"></span></div>')}else t&&(e.inited=null,d(e,$J(e).attr("data-economy-item")))});else{if(n){var l=s(n);l.find(".trade_item").each(function(e,t){d(t,$J(t).attr("data-economy-item"),!0,i,l)})}else{var u=s();window.location.href.includes("history")&&(u.length>L&&(u.length=L),r(u.length)),u.find(".trade_item").each(function(e,t){d(t,$J(t).attr("data-economy-item"),!0,i)})}if(!o.isMarketLoaded&&i.name&&"steam"===i.name.toLowerCase())var p=setInterval(function(){var e=c();e.isSteamBySIHLoaded&&(clearInterval(p),"steam"!==e.market&&a.i(k.SetPriceForItemsActiveMarket)(e.market,n),C(n))},100);else C(n)}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=setInterval(function(){var r=c();r.isMarketLoaded&&"steam"!==r.market&&ExchangeRates._rates?(clearInterval(t),a.i(k.AfterResponse)(r.market),l(e),p()):r.isSteamBySIHLoaded&&"steam"===r.market&&ExchangeRates._rates&&(clearInterval(t),a.i(k.AfterResponse)(r.market),l(e),p())},100)}function y(){setTimeout(function(){$J(".accept_trade").click(function(){if($J(this).prop("disabled"))return!1;var e=$J(this).parent().parent().parent(),t=$J(e).find(".sih_tradeoffer_footer"),a="",r="",i=$J(e).prop("id").substring(13),n=$(e).find(".btn_report").attr("onclick").match(/'(\d*)',\s"(.+)"/),s=n[1];if(_tradesTimers[i])return window.clearInterval(_tradesTimers[i].timer),_tradesTimers[i]=null,$J(this).html(SIHLang.tradeoffers.fast_accept),!1;if(window.qadelay)_tradesTimers[i]={timer:window.setInterval(function(){return T(i,s)},1e3),remain:window.qadelay},$J(this).html(SIHLang.cancel+" "+(window.qadelay<10?"0":"")+window.qadelay);else if(0==window.qadelay){var o=$J(this);o.html(SIHLang.tradeoffers.accepting),o.prop("disabled",!0),A(i,s).then(function(e){e.needs_mobile_confirmation||e.needs_email_confirmation?a=SIHLang.tradeoffers.mobile_confirmation:(r="accepted",a=SIHLang.tradeoffers.trade_accepted),t.find(".tradeoffer_footer_actions").hide()}).catch(function(e){a=SIHLang.tradeoffers.not_accept}).finally(function(){o.remove(),t.append('<div class="tradeoffer_items_banner '+r+'" style="margin: 0; position: relative; width: 100%">'+a+"</div>")})}return!1})},200)}Object.defineProperty(t,"__esModule",{value:!0}),t.GetMarkets=n,t.GetLimitedTradeofferList=s,t.GetDataFromLocalStorage=c,t.SetDataToLocalStorage=f,t.AddPreloadersAndHideBlocks=u,t.GetHeightFirstRightControlsContent=_,t.sendTradeofferTxtToBackground=v,t.removeDeclinedOfferFromSihWindow=h,t.getHexFromUnicode=m,t.sendTradeLinkToBackground=g,t.GetAllPrice=I,t.InitializationFastAcceptTrade=y;var b=a(128),k=(a.n(b),a(27)),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},w={},L=10,H=0,P=["730","570","440","252490"],M=[],F=void 0;r();var T=function(e,t){if(_tradesTimers[e]){var a=_tradesTimers[e].remain,r=$J("#tradeofferid_"+e).find(".accept_trade"),i=$J("#tradeofferid_"+e).find(".sih_tradeoffer_footer"),n="",s="";0==a?(r.html(SIHLang.tradeoffers.accepting),r.prop("disabled",!0),window.clearInterval(_tradesTimers[e].timer),A(e,t).then(function(e){e.needs_mobile_confirmation||e.needs_email_confirmation?n=SIHLang.tradeoffers.mobile_confirmation:(s="accepted",n=SIHLang.tradeoffers.trade_accepted),i.find(".tradeoffer_footer_actions").hide()}).catch(function(e){n=SIHLang.tradeoffers.not_accept}).finally(function(){r.remove(),i.append('<div class="tradeoffer_items_banner '+s+'" style="margin: 0; position: relative; width: 100%">'+n+"</div>")})):(a--,_tradesTimers[e].remain=a,r.html(SIHLang.cancel+" "+(a<10?"0":"")+a))}},A=function(e,t){return new Promise(function(a,r){var i=new Headers;i.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var n=new Request("https://steamcommunity.com/tradeoffer/"+e+"/accept",{method:"POST",headers:i,referrer:"https://steamcommunity.com/tradeoffer/"+e+"/",body:"sessionid="+g_sessionID+"&serverid=1&tradeofferid="+e+"&partner="+t+"&captcha="});fetch(n).then(function(e){if(e.ok)return e.json();r({status:e.status,statusText:e.statusText})}).then(function(e){a(e)}).catch(function(e){r(e)})})}},,,,function(e,t,a){"use strict";function r(){m();var e=h();i(),v(),_(),S(),setTimeout(function(){n()},1),setTimeout(function(){J(e.size),E(),c(),e.autoLoadMarketPrice&&(a.i(j.AddPreloadersAndHideBlocks)(),a.i(j.GetAllPrice)())},100),$(),T(),a.i(j.InitializationFastAcceptTrade)()}function i(){$J(".tradeoffer").addClass("sih_tradeoffer minimized")}function n(){q=$J(".tradeoffer").clone(!0,!0),$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(q),s(),K=$J(".tradeoffer_list").html(),I()}function s(){$J(".profile_leftcol > .tradeoffer").remove(),$J(".profile_leftcol > .tradeoffer_rule").remove()}function o(){$J(".tradeoffer_list").remove()}function d(){$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(K)}function c(){$J(".offer_price").each(function(e,t){$J(t).click(function(){var e=$J(this).parent().parent().parent().parent().children(".tradeoffer_item_list");a.i(j.GetAllPrice)(e),$J(this).parent().find(".icon").hasClass("reload")||$J(this).after('<a href="javascript:void(0);" class="icon reload reload-steam-price"></a>'),f()})})}function f(){$J(".reload-steam-price").each(function(e,t){$J(t).click(function(e){if(!e.isDefaultPrevented()){e.preventDefault(),PriceQueue.StopQueue();var t=$J(this).parent().parent().parent().parent().children(".tradeoffer_item_list"),r=$J(this).parent().find(".steam-total-price");1===r.length&&$J(r).text(0),$J(t).find(".trade_item").each(function(e,t){$J(t).find(".p-price").children(".price_flag.original").attr("data-price","").find(".animated-background.silver").fadeIn("slow")}),a.i(j.GetAllPrice)(t,!0)}})})}function l(){$J(".tradeoffer").addClass("full"),$J(".tradeoffer").removeClass("minimized"),$J(".tradeoffer_footer").removeClass("minimized")}function u(){$J(".tradeoffer").removeClass("full"),$J(".tradeoffer").addClass("minimized"),$J(".tradeoffer_footer").addClass("minimized")}function p(){var e=h();$J(".filter_page").each(function(t,a){if($J(a).hasClass("active")&&(!e||!e.size||e.size)){var r=$J(a).attr("class").replace(/filter_page/g,"").replace(/active/g,"").trim();e.size=r;var i=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",i)}})}function _(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h();if(!t||!t.isMarketLoaded||t.isMarketLoaded){t.isMarketLoaded=e;var a=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",a)}}function v(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h();if(!t||!t.isMarketLoaded||t.isMarketLoaded){t.isSteamBySIHLoaded=e;var a=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",a)}}function h(){var e=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(e)}function m(){var e=window.location.pathname,t=h(),r=void 0;r=t.size&&"minimized"!==t.size?a.i(R.a)():a.i(G.a)(),$J(".filter").after(r),g(),e.includes("tradetopics")||e.includes("privacy")||$J(".fake-tradeoffer").show()}function g(){var e=a.i(j.GetHeightFirstRightControlsContent)();$J(".fake-tradeoffer").css("top",e+22)}function J(e){"full"===e&&($J(".filter_page").each(function(e,t){$J(t).hasClass("full")&&$J(t).addClass("active").siblings().removeClass("active")}),o(),d(),l(),b(),C(),a.i(N.a)(),setTimeout(function(){a.i(V.RelocateRuleBlock)()},50)),x(),setTimeout(function(){$J(".fake-tradeoffer").fadeOut("slow"),$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow")},300)}function $(){$J(".filter_page").each(function(e,t){var r=$J(t);r.on("click",function(){O(),setTimeout(function(){$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow"),E()},100);var e=h();$J(this).addClass("active").siblings().removeClass("active"),r.hasClass("full")?$J(".tradeoffer").hasClass("full")||(window.location.href.includes("history")?a.i(U.b)("request",!0):a.i(U.b)(),T(),p(),o(),d(),l(),b(),a.i(V.RelocateRuleBlock)(),C(),a.i(N.a)(),c(),v(),_(),e.autoLoadMarketPrice&&(a.i(j.AddPreloadersAndHideBlocks)(),a.i(j.GetAllPrice)()),a.i(z.RenderLoadMarketPriceManualSingle)(),a.i(j.InitializationFastAcceptTrade)(),x()):r.hasClass("minimized")&&($J(".tradeoffer").hasClass("minimized")||(window.location.href.includes("history")?a.i(U.b)("request",!0):a.i(U.b)(),T(),p(),o(),d(),u(),I(),v(),_(),e.autoLoadMarketPrice&&(a.i(j.AddPreloadersAndHideBlocks)(),a.i(j.GetAllPrice)()),a.i(z.RenderLoadMarketPriceManualSingle)(),a.i(j.InitializationFastAcceptTrade)(),x()))})})}function S(){$J(".tradeoffer").prepend('<div class="sih_tradeoffer_header"></div>'),$J(".sih_tradeoffer_header").append('<div class="sih_user"></div>'),L(),H()}function I(){y(),M(),F(),w(),a.i(B.ModifyItemList)(),A()}function C(){$J(".tradeoffer_item_list").each(function(e,t){$J(t).find(".trade_item").hasClass("trade_item")||$J(t).parent().find(".tradeoffer_items_header").find(".row").remove()})}function y(){k(),a.i(V.RelocateRuleBlock)()}function b(){$J(".tradeoffer").each(function(e,t){var a=$J(t).find(".sih_user");$J(a).append('<div class="sih_user_row"></div>');var r=$J(t).find(".sih_user_row"),i=$J(t).find(".tradeoffer_partner"),n=$J(t).find(".tradeoffer_header");$J(i).appendTo(r),$J(n).appendTo(r)})}function k(){$J(".tradeoffer").each(function(e,t){$J(t).find(".sih_user").append('<div class="sih_user_row"></div>');var a=$J(t).find(".sih_user_row"),r=$J(t).find(".tradeoffer_partner"),i=$J(t).find(".tradeoffer_header");r.appendTo(a),i.appendTo(a);var n=$J(t).find(".tradeoffer_expiries");$J(n).appendTo(i)})}function x(){var e=$J(location).attr("pathname");$J(".tradeoffer").each(function(t,a){var r=$J(a).find(".sih_user_row");if(e.includes("sent")){var i=$J(a).find(".tradeoffer_avatar");$J(i[1]).hasClass("tiny")&&$J(i[1]).removeClass("tiny"),$J(i[1]).prependTo(r)}})}function w(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_header").each(function(e,t){var a=$J(t).parent().parent().parent().parent().find(".tradeoffer_message");1===a.length&&$J(t).prepend('<div class="text text_tiny text_italic text_blue message-controller">'+SIHLang.tradeoffers.show_message+"</div>"),$J(t).find(".message-controller").click(function(){var e=$J(this);a.toggleClass("show"),a.hasClass("show")?e.text(""+SIHLang.tradeoffers.hide_message):e.text(""+SIHLang.tradeoffers.show_message)})})}function L(){$J(".tradeoffer").each(function(e,t){var a=$J(t).find(".btn_report"),r=$J(t).find(".sih_tradeoffer_header");setTimeout(function(){$J(a).appendTo(r)},1)})}function H(){$J(".tradeoffer").each(function(e,t){var a=$J(t).find(".tradeoffer_footer");$J(a).each(function(e,a){var r=$J(a).contents().filter(function(){return 3===this.nodeType})[1].nodeValue;$J(t).find(".sih_user").append('<span class="tradeoffer_expiries text text_tiny">'+r+"</span>")})})}function P(){var e=0,t=[];return($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).find(".tradeoffer_item_list").each(function(a,r){if(0===$J(r).find(".trade_item").length)e=0,t.push(e);else{e=0;var i=RegExp("[0-9]*[.,]?[0-9]+");$J(r).children(".trade_item").find(".price_flag").each(function(t,a){if($J(a).hasClass("steam")||$J(a).hasClass("dmarket")||$J(a).hasClass("buff163")||$J(a).hasClass("bitskins")||$J(a).hasClass("skinport")||$J(a).hasClass("mannco")){var r=$J(a).data("price");r=r.match(i),e+=+r}}),t.push(e.toFixed(2))}}),t}function M(){$J(".sih_tradeoffer_header").each(function(e,t){var r=$J(t).find(".btn_report");if(1===r.length){var i=r.attr("onclick").match(/'(\d*)',\s"(.+)"/),n=i[2],s=n.match(/\\u[\w\d]{4}/g);$J(t).find(".tradeoffer_header").prepend('<span class="text">'+(s?a.i(j.getHexFromUnicode)(n,s):n)+"</span>")}})}function F(){$J(location).attr("href").includes("sent")||$J(".tradeoffer_header").each(function(e,t){$J(t).contents().filter(function(){return 3===this.nodeType}).remove()})}function T(){setTimeout(function(){$J(".tradeoffer").each(function(e,t){1===$J(t).find(".tradeoffer_items_banner").length&&$J(t).append('<div class="sih_inactive"></div>')}),$J(".tradeoffer").mouseenter(function(){$J(this).find(".sih_inactive").css("opacity",0),$J(this).find(".tradeoffer_items_ctn").removeClass("inactive"),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",6),$J(this).find(".sih_user").css("z-index",6),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",7)}),$J(".tradeoffer").mouseleave(function(){$J(this).find(".sih_inactive").css("opacity",.5),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",0),$J(this).find(".sih_user").css("z-index",0),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",0)})},100)}function A(){$J(".tradeoffer.minimized").each(function(e,t){var a=$J(t).find(".tradeoffer_items_banner");1===a.length&&($J(t).find(".tradeoffer_items_banner").remove(),$J(t).addClass("history"),$J(t).find(".sih_tradeoffer_footer").addClass("history"),$J(t).find(".sih_tradeoffer_footer").append(a))})}function O(){var e=$J('.sorting_tradeoffers_select option[value="new"]'),t=e.text();e.prop("selected",!0),$J("#ui-id-2-button").find(".ui-selectmenu-text").text(t)}function E(){var e=$J(".profile_leftcol"),t=e.find(".tradeoffers_view_more");e.find(".tradeoffer_list").after(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r,t.SetFlagForLoadedMarket=_,t.SetFlagForLoadedSIHMarket=v,t.GetTotalPriceForActiveMarket=P;var D=a(143),R=(a.n(D),a(107)),G=a(108),N=a(112),B=a(80),j=a(4),z=a(79),U=a(49),V=a(81),q=void 0,K=void 0},,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){f(e),l(e),p(),u(),_(),v(e),h(),m(),a.i(C.b)("reload")}function i(){var e=a.i(S.GetDataFromLocalStorage)();n(),a.i(y.a)(),a.i(C.c)(),a.i(I.a)(),o(),d(),s(e.autoLoadMarketPrice)}function n(){var e=$J(location).attr("href"),t='\n    <div class="sih_filter filter">\n      <div class="filter_column">\n        <div class="filter_row">\n            <span class="text text_bold"> '+(e.includes("sent")?SIHLang.tradeoffers.filter.title_sent:SIHLang.tradeoffers.filter.title_incoming)+'</span>\n        </div>\n        <div class="filter_row filter_row--between">\n           <div class="filter_row filter--left-side">\n           </div>\n\n          <div class="filter_row">\n             <button class="filter_page minimized active">\n              <svg width="17" height="14" viewBox="0 0 17 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0V2H17V0H0ZM0 6H17V4H0V6ZM0 14H17V12H0V14ZM0 10H17V8H0V10Z" fill="white"/>\n              </svg>\n            </button>\n            <button class="filter_page full">\n              <svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0H18V6H0V0ZM0 8H18V14H0V8Z" fill="white"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ';e.match("privacy")||e.includes("tradetopics")||$J(".profile_leftcol").prepend(t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.i(S.GetDataFromLocalStorage)();if(!t||!t.autoLoadMarketPrice||t.autoLoadMarketPrice){t.autoLoadMarketPrice=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function o(){var e=a.i(S.GetHeightFirstRightControlsContent)();$J(".filter").height(e+10)}function d(){var e=a.i(S.GetDataFromLocalStorage)();if(!e.markets||e.markets){var t=a.i(S.GetMarkets)();e.markets=t||[];var r=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={};a.i(S.GetLimitedTradeofferList)().find(".trade_item").each(function(t,a){a.rgItem&&ExternalPrices[a.rgItem.appid]&&(r=Object.assign(r,ExternalPrices[a.rgItem.appid].apis.find(function(t){return t.name.toLowerCase()===e})),0===Object.keys(r).length&&(r=Object.assign(r,ExternalPrices[730].apis.find(function(t){return t.name.toLowerCase()===e}))))}),a.i(S.GetAllPrice)(null,!1,!0,r,t)}function f(e){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each(function(t,a){$J(a).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each(function(t,a){if(0!==$J(a).children(".tradeoffer_item_list").find(".trade_item").length){var r=[],i=$J(a).find(".price_flag");$J(i).each(function(e,t){if(!$J(t).hasClass("original")){var a=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==r.length&&r.includes(a)||r.push(a)}});var n=$J(a).find(".sih_lot_item");$J(n).each(function(t,a){1===t&&($J(a).find(".icon").remove(),$J(r).each(function(t,r){e.toLowerCase()===r?$J(a).append('<span class="icon '+r+'"></span>'):$J(a).prepend('<span class="icon '+r+'"></span>')}))})}})})}function l(e){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each(function(t,a){var r=[];$J(a).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each(function(t,i){if(0!==$J(i).children(".tradeoffer_item_list").find(".trade_item").length){var n=$J(i).find(".price_flag");$J(n).each(function(e,t){if(!$J(t).hasClass("original")){var a=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==r.length&&r.includes(a)||r.push(a)}});var s=$J(a).find(".sih_tradeoffer_items_rule_price");$J(s).each(function(a,i){t===a&&($J(i).find(".icon").remove(),$J(r).each(function(t,a){e.toLowerCase()===a?$J(i).children(".row").children(".icons").append('<span class="icon '+r[t]+'"></span>'):$J(i).children(".row").children(".icons").prepend('<span class="icon '+r[t]+'"></span>')}))})}})})}function u(){var e=a.i(J.GetTotalPriceForActiveMarket)();($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).find(".sih_lot").each(function(t,a){0!==$J(a).parent().find(".trade_item").length&&$J(a).find(".sih_lot_item").each(function(a,r){if(1===a){$J(r).find(".text").remove();var i=$.Currency.getPriceFromCurrency(+e[t],currencyId,currencyId).text;$J(r).append('<span class="text">'+i+"</span>")}})})}function p(){var e=a.i(J.GetTotalPriceForActiveMarket)();($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).find(".sih_tradeoffer_items_rule_price").each(function(t,a){$J(a).find(".rule_total_price").remove();var r=$.Currency.getCurrency(currencyId),i=(+e[t]).toLocaleString("ru-RU").replace(/,/,".").trim(),n=i.split(".");$J(a).children(".row").append('<div class="rule_total_price" data-total-price="'+e[t]+'"><span class="text">'+n[0]+"</span></div>"),n.length>1&&$J(a).children(".row").find(".rule_total_price").append('<span class="text text_light">.'+n[1]+"</span>"),r.bSymbolIsPrefix?$J(a).children(".row").find(".rule_total_price").prepend('<span class="text">'+r.strSymbol+" </span>"):$J(a).children(".row").find(".rule_total_price").append('<span class="text"> '+r.strSymbol+"</span>")})}function _(){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each(function(e,t){var a=[],r=void 0,i=void 0;$J(t).find(".rule_total_price").each(function(e,t){var r=$J(t).data().totalPrice;a.push(+r)});var n=$J(t).find(".sih_tradeoffer_items_rule_percent");if($J(n).find(".text").remove(),$J(n).hasClass("normal")?$J(n).removeClass("normal"):$J(n).hasClass("profit")?$J(n).removeClass("profit"):$J(n).hasClass("lose")&&$J(n).removeClass("lose"),$J(location).attr("href").includes("sent"))if(0===a[0]&&0===a[1])$J(n).prepend('<span class="text rule-percent">0</span>'),$J(n).attr("data-profit-price","0"),$J(n).attr("data-profit-percent","0");else if(0===a[0]){r=100,n.addClass("profit"),$J(n).prepend('<span class="text rule-percent">'+Math.abs(r)+"%</span>");var s=$.Currency.getPriceFromCurrency(+a[1],currencyId,currencyId).text;$J(n).attr("data-profit-price",""+s),$J(n).attr("data-profit-percent",""+Math.abs(r))}else if(0===a[1]){r=-100,n.addClass("lose"),$J(n).prepend('<span class="text rule-percent">'+Math.abs(r)+"%</span>");var o=$.Currency.getPriceFromCurrency(+a[0],currencyId,currencyId).text;$J(n).attr("data-profit-price","-"+o),$J(n).attr("data-profit-percent",""+Math.abs(r))}else{i=100*a[1]/a[0]-100,r=i,$J(n).prepend('<span class="text rule-percent">'+Math.abs(r.toFixed(2))+"%</span>");var d=$.Currency.getPriceFromCurrency(+(a[1]-a[0]).toFixed(2),currencyId,currencyId).text;$J(n).attr("data-profit-price",""+d),$J(n).attr("data-profit-percent",""+Math.abs(r)),r>3?($J(n).find(".text").text(Math.abs(r.toFixed(2))+"%"),$J(n).attr("data-profit-percent",""+Math.abs(r)),$J(n).addClass("profit")):r<-3?$J(n).addClass("lose"):r>-3&&r<3&&$J(n).addClass("normal")}else if(0===a[0]&&0===a[1])$J(n).prepend('<span class="text rule-percent">0</span>'),$J(n).attr("data-profit-price","0"),$J(n).attr("data-profit-percent","0");else if(0===a[1]){r=100,n.addClass("profit"),$J(n).prepend('<span class="text rule-percent">'+Math.abs(r)+"%</span>");var c=$.Currency.getPriceFromCurrency(+a[0],currencyId,currencyId).text;$J(n).attr("data-profit-price",""+c),$J(n).attr("data-profit-percent",""+Math.abs(r))}else if(0===a[0]){r=-100,n.addClass("lose"),$J(n).prepend('<span class="text rule-percent">'+Math.abs(r)+"%</span>");var f=$.Currency.getPriceFromCurrency(+a[1],currencyId,currencyId).text;$J(n).attr("data-profit-price","-"+f),$J(n).attr("data-profit-percent",""+Math.abs(r))}else{i=100*a[0]/a[1]-100,r=i,$J(n).prepend('<span class="text rule-percent">'+Math.abs(r.toFixed(2))+"%</span>");var l=$.Currency.getPriceFromCurrency(+(a[0]-a[1]).toFixed(2),currencyId,currencyId).text;$J(n).attr("data-profit-price",""+l),$J(n).attr("data-profit-percent",""+Math.abs(r)),r>3?($J(n).find(".text").text(Math.abs(r.toFixed(2))+"%"),$J(n).addClass("profit")):r<-3?$J(n).addClass("lose"):r>-3&&r<3&&$J(n).addClass("normal")}})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",t=$J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer"),a=RegExp("[0-9]*[.,]?[0-9]+");t.each(function(t,r){$J(r).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each(function(t,i){var n={};if(0!==$J(i).children(".tradeoffer_item_list").find(".trade_item").length){var s=$J(i).find(".price_flag");$J(s).each(function(e,t){if($J(t).hasClass("steam")||$J(t).hasClass("dmarket")||$J(t).hasClass("buff163")||$J(t).hasClass("bitskins")||$J(t).hasClass("skinport")||$J(t).hasClass("mannco")){var r=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"").trim(),i=t.dataset.price.match(a);if(n[r]||Object.keys(n)==r)n[r].price+=+i,n[r].count++;else{var s;n=Object.assign(n,(s={},s[r]={price:+i,count:1},s))}}});var o=$J(r).find(".sih_tradeoffer_items_rule_price");$J(o).each(function(a,r){if(t===a){$J(r).find(".tooltip").remove(),$J(r).append('\n              <div class="tooltip">\n                <div class="tooltip-title">'+SIHLang.tradeoffers.cost+'</div>\n                <div class="tooltip-column"></div>\n              </div>\n              ');var i=$J(r).find(".tooltip .tooltip-column");for(var s in n){var o=$.Currency.getPriceFromCurrency(+n[s].price.toFixed(2),currencyId,currencyId).text;s===e?i.prepend('<div class="tooltip-row"> <span >'+SIHLang.tradeoffers.items+" "+n[s].count+'</span> <span class="icon '+s+'"></span><span>'+o+"</span></div>"):i.append('<div class="tooltip-row"> <span>'+SIHLang.tradeoffers.items+" "+n[s].count+'</span> <span class="icon '+s+'"></span><span>'+o+"</span></div>")}}})}})})}function h(){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each(function(e,t){var a=$J(t).find(".sih_tradeoffer_items_rule_percent");a.find(".profit_info").remove();var r=void 0;r=$J(a[0]).data()?a[0].dataset.profitPrice:0,a.hasClass("profit")?a.append('<span class="profit_info">+'+r+"</span>"):a.append('<span class="profit_info">'+r+"</span>")})}function m(){($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each(function(e,t){var a=$J(t).find(".sih_tradeoffer_items_rule_percent"),r=$J(t).find(".accept_trade");r.find(".profit-price").remove();var i=void 0;i=$J(a[0]).data()?a[0].dataset.profitPrice:0,a.hasClass("profit")?r.append('<span class="profit-price profit">+'+i+"</span>"):r.append('<span class="profit-price lose">'+i+"</span>")})}Object.defineProperty(t,"__esModule",{value:!0}),t.AfterResponse=r,t.load=i,t.SetStateAutoLoadMarketPriceToLocalStorage=s,t.SetPriceForItemsActiveMarket=c;var g=a(131),J=(a.n(g),a(8)),$=a(0),S=a(4),I=a(110),C=a(49),y=a(109)},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(){n(),s(),o()}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request",t=arguments[1],a=$J(".tradeoffer.single_price_loaded"),r=$J(".filter_load-price-market");if(0!==a.length||window.location.href.includes("history")){a.find(".sih_tradeoffer_footer").find(".sih_load_price_single").each(function(t,a){var r=$J(a);r.hasClass("reload")||"reload"!==e||(r.addClass("reload"),r.text(SIHLang.tradeoffers.filter.reload)),"request"===e&&(r.removeClass("reload"),r.text(SIHLang.market.requestPrice))})}else{var i=$J(".sih_tradeoffer_footer").find(".sih_load_price_single");r.hasClass("reload")||"reload"!==e||(r.addClass("reload"),r.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload),i.addClass("reload"),i.text(SIHLang.tradeoffers.filter.reload)),"request"===e&&(r.removeClass("reload"),r.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice),i.removeClass("reload"),i.text(SIHLang.market.requestPrice))}t&&("reload"===e?(r.addClass("reload"),r.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload)):(r.removeClass("reload"),r.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice)))}function n(){var e=$J(".sih_filter"),t=a.i(f.GetDataFromLocalStorage)(),r='\n    <div class="filter_load-price">\n                <a href="javascript:void(0)" class="filter_switcher-load-price '+(t.autoLoadMarketPrice?"on":"")+'"></a>\n                <a href="javascript:void(0)" class="filter_load-price-market">\n                <span class="text text_tiny filter_load-price-market--text">'+SIHLang.market.requestPrice+'</span>\n                <span class="text text_tiny--fs7 filter_auto-load-price '+(t.autoLoadMarketPrice?"text_green":"")+'">'+(t.autoLoadMarketPrice?""+SIHLang.market.auto:""+SIHLang.market.manual)+"</span>\n                </a>\n    </div>\n  ";e.find(".filter_price").before(r)}function s(){$J(".filter").find(".filter_switcher-load-price").off("click").click(function(){var e=$J(".filter_load-price-market"),t=$J(this);t.toggleClass("on"),e.children(".filter_auto-load-price").toggleClass("text_green"),t.hasClass("on")?e.children(".filter_auto-load-price").text(""+SIHLang.market.auto):e.children(".filter_auto-load-price").text(""+SIHLang.market.manual);var r=a.i(f.GetDataFromLocalStorage)();a.i(u.SetStateAutoLoadMarketPriceToLocalStorage)(!r.autoLoadMarketPrice)})}function o(){$J(".filter").find(".filter_load-price-market").off("click").click($J.debounce(250,function(){$J(this).hasClass("reload")?(SteamBySihSource._cache={},MarketplaceSource._cache={},$J(".sih_tradeoffer.single_price_loaded").each(function(e,t){$J(t).hasClass("active_single_trade")||$J(t).addClass("active_single_trade")})):i("reload",!0),a.i(f.GetDataFromLocalStorage)().autoLoadMarketPrice||$J(".tradeoffer").removeClass("active_single_trade single_price_loaded"),a.i(l.SetFlagForLoadedSIHMarket)(),a.i(l.SetFlagForLoadedMarket)(),a.i(f.AddPreloadersAndHideBlocks)(),a.i(f.GetAllPrice)()}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){e.find(".trade_item").each(function(e,t){if(t.rgItem){var a=t.rgItem.market_hash_name;Object.values(MarketplaceSource._cache).forEach(function(e){Object.values(e).forEach(function(e){e[a]&&delete e[a]})}),Object.values(SteamBySihSource._cache.steam).forEach(function(e){e[a]&&delete e[a]})}})}}t.c=r,t.b=i,t.a=d;var c=a(133),f=(a.n(c),a(4)),l=a(8),u=a(27)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(){i(),setTimeout(function(){s(),n(),o()},100)}function i(){$J(".tradeoffer_footer").each(function(){var e=$J(this).html(),t=e.replace(/\|/," ");$J(this).html(t)}),$J(".tradeoffer_footer").contents().filter(function(){return 3===this.nodeType}).remove(),$J(".tradeoffer_footer").addClass("sih sih_tradeoffer_footer minimized"),$J(location).attr("pathname").includes("sent")||$J(".tradeoffer_footer_actions").append('<a class="accept_trade whiteLink" href="javascript:void(0);"><span>'+SIHLang.tradeoffers.fast_accept+"</span></a>"),0===$J(".tradeoffer_footer").find(".tradeoffer_footer_actions").length&&$J(".tradeoffer_footer").prepend('<div class="tradeoffer_footer_actions"></div>')}function n(){var e=a.i(f.GetDataFromLocalStorage)();if(e&&e.mode&&"lite"===e.mode){$J(".profile_leftcol").find(".tradeoffer_footer").each(function(e,t){var a=$J(t),r=a.parent().find(".tradeoffer_items_ctn").css("background");a.find(".tradeoffer_footer_actions").find("a").css("background",r)})}}function s(){var e=$J(".tradeoffer");0===e.find(".sih_load_price_single").length&&e.find(".tradeoffer_footer_actions").prepend("<a href='javascript:void(0)' class=\"whiteLink tradeoffer_footer_actions sih_load_price_single\">"+SIHLang.market.requestPrice+"</a>"),e.find(".sih_load_price_single").click($J.debounce(250,function(){var t=$J(this);if(t.hasClass("reload")){var r=void 0;r=e.hasClass("lite history")?t.parent().parent().parent().parent():t.parent().parent().parent(),a.i(l.a)(r)}else t.addClass("reload"),t.text(SIHLang.tradeoffers.filter.reload);$J(".tradeoffer").removeClass("active_single_trade");var i=void 0;i=e.hasClass("lite history")?t.parent().parent().parent().parent().parent():t.parent().parent().parent(),i.addClass("single_price_loaded active_single_trade"),a.i(c.SetFlagForLoadedSIHMarket)(),a.i(c.SetFlagForLoadedMarket)(),a.i(f.AddPreloadersAndHideBlocks)(i),a.i(f.GetAllPrice)(null,!1,!0,{name:"Steam",sort:13},i)}))}function o(){$J(".profile_leftcol").find(".tradeoffer.lite.history").each(function(e,t){var a=$J(t),r=a.find(".tradeoffer_items_banner");a.find(".tradeoffer_footer").appendTo(r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r,t.RenderLoadMarketPriceManualSingle=s;var d=a(135),c=(a.n(d),a(8)),f=a(4),l=a(49)},function(e,t,a){"use strict";function r(){n(),c()}function i(){setTimeout(function(){s(),o(),d()},100)}function n(){$J(".tradeoffer_items_ctn").addClass("sih_tradeoffer_items_ctn"),$J(".tradeoffer_items").addClass("sih_tradeoffer_items"),$J(".trade_item").addClass("sih_trade_item item");$J(".trade_item").append('\n  <div class="p-price"></div>\n  <span class="animated-background small fake-price"></span>\n  ')}function s(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each(function(e,t){$J(t).find(".trade_item").each(function(e,t){e>=3&&$J(t).addClass("hidden"),3===e&&$J(t).after('\n            <div class="sih_trade_item show-items">\n                <div class="item_row">\n                   <span class="text text_grey count-items"></span>\n                </div>\n                <div class="item_row">\n                    <span class="item_dot"></span>\n                    <span class="item_dot"></span>\n                    <span class="item_dot"></span>\n                </div>\n            </div>\n          ')})})}function o(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each(function(e,t){var a=$J(t).find(".trade_item.hidden");$J(t).find(".count-items").text("+"+a.length)})}function d(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each(function(e,t){$J(t).find(".show-items").click(function(){var e=this,t=$J(this).parent().parent().parent().find(".trade_item.hidden");$J(this).parent().parent().parent().find(".show-items").remove(),t.each(function(t,a){$J(a).hasClass("hidden")&&($J(a).removeClass("hidden"),$J(e).remove())})})})}function c(){$J(".sih_tradeoffer").find(".tradeoffer_item_list div").each(function(e,t){var a=$J(t);[a.attr("style")].includes("clear: left;")&&a.remove()})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r,t.ModifyItemList=i;var f=a(136);a.n(f)},function(e,t,a){"use strict";function r(){i(),o()}function i(){var e=a.i(c.GetLimitedTradeofferList)();e.each(function(e,t){var a=$J(t).find(".tradeoffer_items_rule");0!==a.length||$J(t).hasClass("lite")?a.addClass("sih_tradeoffer_items_rule"):$J(t).hasClass("lite")||0===$J(t).find(".tradeoffer_items_banner").length||$J(t).append('<div class="tradeoffer_items_rule sih_tradeoffer_items_rule"></div>')});$J(".sih_tradeoffer_items_rule").append('\n   <div class="sih_tradeoffer_items_rule_price">\n     <div class="row">\n        <div class="icons"></div>\n     </div>\n   </div>\n   <div class="sih_tradeoffer_items_rule_percent">\n   </div>\n   <div class="sih_tradeoffer_items_rule_price">\n     <div class="row">\n        <div class="icons"></div>\n      </div>\n   </div>\n  '),e.find(".sih_tradeoffer_items_rule_price").append('<span class="animated-background"></span>'),e.find(".sih_tradeoffer_items_rule_percent").append('<div class="animated-background-profit"></div>')}function n(){$J(".sih_tradeoffer_header").append('<div class="column"></div>'),$J(".tradeoffer").each(function(e,t){var a=$J(t).find(".sih_tradeoffer_header").children(".column"),r=$J(t).find(".tradeoffer_items_rule");if($J(r).hasClass("tradeoffer_items_rule"))$J(r).appendTo(a);else{$J(t).find(".tradeoffer_items.primary").after('<div class="tradeoffer_items_rule"></div>');var i=$J(t).find(".tradeoffer_items_rule");$J(i).appendTo(a)}}),s()}function s(){setTimeout(function(){var e=0;$J(".tradeoffer_item_list").each(function(t,a){e=$J(a).find(".trade_item").length;var r=void 0;$J(location).attr("pathname").includes("sent")?t%2==0?(r=$J(a).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(r).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>")):(r=$J(a).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(r).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>")):t%2==0?(r=$J(a).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(r).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>")):(r=$J(a).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(r).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>"))})},1)}function o(){var e=$J(".profile_leftcol"),t=window.location.href;e.find(".tradeoffer.lite").find(".sih_tradeoffer_items_rule").each(function(e,a){$J(a).find(".sih_tradeoffer_items_rule_price").each(function(e,a){var r=$J(a);if(t.includes("sent"))if(0===e){var i=r.parent().parent().find(".tradeoffer_items.primary").find(".trade_item").length;r.append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+i+" "+SIHLang.tradeoffers.units+")</span>")}else{var n=r.parent().parent().find(".tradeoffer_items.secondary").find(".trade_item").length;r.append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+n+" "+SIHLang.tradeoffers.units+")</span>")}else if(0===e){var s=r.parent().parent().find(".tradeoffer_items.primary").find(".trade_item").length;r.append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+s+" "+SIHLang.tradeoffers.units+")</span>")}else{var o=r.parent().parent().find(".tradeoffer_items.secondary").find(".trade_item").length;r.append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+o+" "+SIHLang.tradeoffers.units+")</span>")}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r,t.RelocateRuleBlock=n;var d=a(137),c=(a.n(d),a(4))},,,,,,,,,,function(e,t,a){"use strict";function r(){i(),n()}function i(){var e=a.i(o.GetLimitedTradeofferList)(),t='\n        <div class="row">\n            <div class="sih_lot_item">\n                <span class="icon default"></span>\n                <a href="javascript:void(0);" class="offer_price text text_blue">'+SIHLang.tradeoffers.load_prices+'</a>\n            </div>\n            <div class="sih_lot_item">\n                <span class="icon"></span>\n                <span class="text"></span>\n            </div>\n        </div>';$J(".tradeoffer_items_header").addClass("sih sih_lot"),$J(".sih_lot").append(t),e.find(".sih_lot_item .icon").after('<span class="animated-background small"></span>')}function n(){$J(".tradeoffer_item_list").each(function(e,t){var a=0;a=$J(t).find(".trade_item").length,$J(t).parent().children(".sih_lot").children(".row").each(function(e,t){$J(t).prepend('<span class="text">'+SIHLang.tradeoffers.lots+" - "+a+" |</span>")})})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r;var s=a(138),o=(a.n(s),a(4))},function(e,t,a){"use strict";function r(e){var t='\n    <div class="sih_panel_mode row">\n      <div class="sih_bg"></div>\n      <div class="sig_status_container">\n       <a href="javascript:void(0)" class="sih_status_button '+(e?"on":"off")+'" data-enabled="'+e+'">\n                <div class="sih_status_icon"></div>\n                <div class="sih_status_text">SIH '+(e?"ON":"OFF")+'</div>\n      </a>\n\n        <a href="#" class="sih_help_button hidden">\n          <span class="sih_help_icon"></span>\n        </a>\n      </div>\n      <div class="sih_tradeoffer_mode">\n          <a href="javascript:void(0)" class="sih_tradeoffer_mode_button lite">Lite</a>\n          <a href="javascript:void(0)" class="sih_tradeoffer_mode_button full">Full</a>\n      </div>\n    </div>';$J(".profile_small_header_texture").append(t),$J(".sih_panel_mode").fadeIn("slow"),$J(".sih_panel_mode").css("display","flex"),i(),n()}function i(){$J(".sih_status_button").click(function(){var e=$J(this).data("enabled");SetCookie(COOKIE_ENABLED_SIH,!e,365,"tradeoffers"),window.location.reload()})}function n(){var e=$J(".sih_tradeoffer_mode");s(),e.find(".sih_tradeoffer_mode_button").each(function(e,t){$J(t).off("click").click(function(){var e=a.i(d.GetDataFromLocalStorage)(),t=$J(this);t.hasClass("lite")&&!t.hasClass("active")?(t.addClass("active").siblings().removeClass("active"),e.mode="lite",a.i(d.SetDataToLocalStorage)(e),window.location.reload()):t.hasClass("full")&&!t.hasClass("active")&&(t.addClass("active").siblings().removeClass("active"),e.mode="full",a.i(d.SetDataToLocalStorage)(e),window.location.reload())})})}function s(){var e=$J(".sih_tradeoffer_mode"),t=a.i(d.GetDataFromLocalStorage)();!t||t&&!t.mode?(e.find(".sih_tradeoffer_mode_button.lite").addClass("active"),t.mode="lite",a.i(d.SetDataToLocalStorage)(t)):e.find(".sih_tradeoffer_mode_button."+t.mode).addClass("active")}Object.defineProperty(t,"__esModule",{value:!0}),t.loadHtml=r;var o=a(139),d=(a.n(o),a(4))},function(e,t,a){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r;var i=a(140);a.n(i)},function(e,t,a){"use strict";function r(){i(),a.i(s.InitializationFastAcceptTrade)()}function i(){var e=$J(".profile_leftcol"),t=window.location.href;e.find(".tradeoffer").addClass("lite"),t.includes("history")&&e.find(".tradeoffer").addClass("history")}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r;var n=a(142),s=(a.n(n),a(4))},,,,,,,,,,,,,function(e,t,a){"use strict";function r(){return'\n<div class="fake-tradeoffer fake-tradeoffer-full" >\n    <div class="header">\n       <div class="user">\n       <div class="row">\n         <div class="avatar"></div>\n           <div class="column">\n              <span class="text"></span>\n           </div>\n       </div>\n        <span class="text"></span>\n       </div>\n       <div class="rule">\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n          <div class="profit"></div>\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n        </div>\n       <div class="report"></div>\n\n    </div>\n    <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n    </div>\n    <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n    </div>\n    <div class="spliter">\n        <div class="line"></div>\n        <div class="circle"></div>\n        <div class="line"></div>\n    </div>\n    <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n    </div>\n    <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n    </div>\n    <div class="footer">\n      <div class="button"></div>\n      <div class="button"></div>\n      <div class="button"></div>\n    </div>\n</div>\n '}t.a=r;var i=a(129);a.n(i)},function(e,t,a){"use strict";function r(){return'\n<div class="fake-tradeoffer fake-tradeoffer-minimized" >\n    <div class="header">\n        <div class="user">\n            <div class="row">\n              <div class="avatar"></div>\n              <div class="column">\n                <span class="text"></span>\n                <span class="text"></span>\n                <span class="text"></span>\n              </div>\n            </div>\n\n        </div>\n        <div class="rule">\n          <div class="column">\n           <div class="fake-lots"></div>\n           <div class="price"></div>\n          </div>\n          <div class="column">\n           <div class="fake-lots"></div>\n           <div class="price"></div>\n          </div>\n        </div>\n    </div>\n    <div class="items">\n      <div class="column">\n        <div class="row">\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n        </div>\n      </div>\n       <div class="column">\n        <div class="row">\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n        </div>\n      </div>\n    </div>\n    <div class="footer">\n        <div class="button"></div>\n        <div class="button"></div>\n        <div class="button"></div>\n    </div>\n</div>\n '}t.a=r;var i=a(130);a.n(i)},function(e,t,a){"use strict";function r(){var e=a.i(c.GetDataFromLocalStorage)();i(),o(e.market),s(e.market),n()}function i(){$J(".sih_filter").find(".filter--left-side").append('\n       <div class="filter_price">\n                  <select class="filter_price_select"></select>\n       </div>\n  '),a.i(c.GetMarkets)().forEach(function(e){$J(".filter_price_select").append('<option class="filter_price_option '+e+'"><span>'+("steam"===e?"Steam (bySIH)":e)+"</span></option>")}),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var a=$J("<li>",{class:t.element.attr("class"),value:t.element.attr("value")}),r=$J("<div>",{text:t.label});return t.disabled&&a.addClass("ui-state-disabled"),a.append(r).appendTo(e)}}),$J(".filter_price_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("filter_price_widget_content")}}})}function n(){$J("#ui-id-1-button").click(function(){var e=a.i(c.GetDataFromLocalStorage)();$J(".filter_price_widget_content").find(".filter_price_option").each(function(t,r){$J(r).off("click").click(function(){var t=$J(this).attr("class").replace(/ui-menu-item|filter_price_option/g,"").trim();o(t),s(t),"steam"===t&&a.i(f.SetFlagForLoadedSIHMarket)(),e.autoLoadMarketPrice&&(a.i(f.SetFlagForLoadedMarket)(),a.i(c.AddPreloadersAndHideBlocks)(),setTimeout(function(){a.i(l.SetPriceForItemsActiveMarket)(t)},100))})})})}function s(e){setTimeout(function(){$J("#ui-id-1-button").find(".ui-selectmenu-text").addClass(e)},1)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",t=a.i(c.GetDataFromLocalStorage)();if(!t||!t.market||t.market){t.market=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}t.a=r;var d=a(132),c=(a.n(d),a(4)),f=a(8),l=a(27)},function(e,t,a){"use strict";function r(){i(),n()}function i(){var e=$J(".sih_filter"),t='\n            <div class="sorting_tradeoffers">\n               <select class="sorting_tradeoffers_select">\n                  <option class="sorting_tradeoffers_option" value="new"><span>'+SIHLang.tradeoffers.filter.sort.time_new+'</span></option>\n                  <option class="sorting_tradeoffers_option" value="old"><span>'+SIHLang.tradeoffers.filter.sort.time_old+'</span></option>\n                  <option class="sorting_tradeoffers_option" value="profit_desc"><span>'+SIHLang.tradeoffers.filter.sort.profit_desc+'</span></option>\n                  <option class="sorting_tradeoffers_option" value="profit_asc"><span>'+SIHLang.tradeoffers.filter.sort.profit_asc+'</span></option>\n                   <option class="sorting_tradeoffers_option" value="name_asc"><span>'+SIHLang.tradeoffers.filter.sort.name_asc+'</span></option>\n                   <option class="sorting_tradeoffers_option" value="name_desc"><span>'+SIHLang.tradeoffers.filter.sort.name_desc+"</span></option>\n               </select>\n             </div>\n";e.find(".filter_load-price").before(t),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var a=$J("<li>",{class:t.element.attr("class"),value:t.element.attr("value")}),r=$J("<div>",{text:t.label});return t.disabled&&a.addClass("ui-state-disabled"),u()||"profit_desc"!==t.value&&"profit_asc"!==t.value||r.append('<span class="sih_need-load-price">'+SIHLang.tradeoffers.filter.sort.price_request+"</span>"),a.append(r).appendTo(e)}}),$J(".sorting_tradeoffers_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("sorting_tradeoffers_widget_content")}}})}function n(){$J(".sih_filter").find("#ui-id-2-button").click(function(){$J(".sorting_tradeoffers_widget_content").find(".sorting_tradeoffers_option").each(function(e,t){var a=$J(t),r=u();"profit_desc"!==a.attr("value")&&"profit_asc"!==a.attr("value")||(r?a.find(".sih_need-load-price").remove():0===a.find(".sih_need-load-price").length&&a.find(".ui-menu-item-wrapper").append('<span class="sih_need-load-price">'+SIHLang.tradeoffers.filter.sort.price_request+"</span>")),a.off("click").click(function(){switch($J(this).attr("value")){case"new":s(-1);break;case"old":s(1);break;case"profit_desc":o(-1);break;case"profit_asc":o(1);break;case"name_asc":window.location.href.includes("sent")?c(1):d(1);break;case"name_desc":window.location.href.includes("sent")?c(-1):d(-1)}})})})}function s(e){var t=$J(".tradeoffer_list"),a=$J(".sih_tradeoffer");a.sort(function(t,a){var r=$J(t).attr("id").substring(13)||0,i=$J(a).attr("id").substring(13)||0;return+r>+i?1*e:+r<+i?-1*e:0}),a.detach().appendTo(t)}function o(e){var t=$J(".tradeoffer_list"),r=$J(".sih_tradeoffer"),i=u(),n=a.i(_.GetDataFromLocalStorage)();if(i||n.isMarketLoaded||n.isSteamBySIHLoaded)r.sort(function(t,a){var r=$J(t).find(".sih_tradeoffer_items_rule_percent"),i=$J(a).find(".sih_tradeoffer_items_rule_percent"),n=(r.hasClass("lose")?-r.attr("data-profit-percent"):+r.attr("data-profit-percent"))||0,s=(i.hasClass("lose")?-i.attr("data-profit-percent"):+i.attr("data-profit-percent"))||0;return n>s?1*e:n<s?-1*e:0}),r.detach().appendTo(t);else{if(!n.autoLoadMarketPrice&&window.location.href.includes("history")){var s=$J(".sih_tradeoffer");s.length>10&&(s.length=10),s.each(function(e,t){$J(t).addClass("active_single_trade single_price_loaded")})}n.autoLoadMarketPrice||$J(".sih_tradeoffer").removeClass("active_single_trade single_price_loaded"),a.i(v.SetFlagForLoadedSIHMarket)(),a.i(v.SetFlagForLoadedMarket)(),a.i(_.AddPreloadersAndHideBlocks)(),a.i(_.GetAllPrice)();var d=setInterval(function(){var t=a.i(_.GetDataFromLocalStorage)();t.isMarketLoaded&&t.isSteamBySIHLoaded&&"steam"!==t.market&&(clearInterval(d),setTimeout(function(){return o(e)},300)),t.isSteamBySIHLoaded&&"steam"===t.market&&(clearInterval(d),setTimeout(function(){return o(e)},300))},100)}}function d(e){var t=$J(".tradeoffer_list"),a=$J(".sih_tradeoffer");a.sort(function(t,a){var r=$J(t).find(".btn_report"),i=$J(a).find(".btn_report"),n=f(r),s=f(i);return 1===e?n.toUpperCase().localeCompare(s.toUpperCase()):s.toUpperCase().localeCompare(n.toUpperCase())}),a.detach().appendTo(t)}function c(e){var t=$J(".tradeoffer_list"),a=$J(".sih_tradeoffer");a.sort(function(t,a){var r=$J(t).find(".tradeoffer_items.secondary .sih_lot"),i=$J(a).find(".tradeoffer_items.secondary .sih_lot"),n=l(r),s=l(i);return 1===e?n.toUpperCase().localeCompare(s.toUpperCase()):s.toUpperCase().localeCompare(n.toUpperCase())}),a.detach().appendTo(t)}function f(e){if(1===e.length){var t=e.attr("onclick").match(/'(\d*)',\s"(.+)"/),r=t[2],i=r.match(/\\u[\w\d]{4}/g);return i?a.i(_.getHexFromUnicode)(r,i):r}}function l(e){if(1===e.length){return e.contents()[0].data}}function u(){var e=$J(".sih_tradeoffer"),t=!1;return e.find(".sih_tradeoffer_items_rule_percent").each(function(e,a){$J(a).attr("data-profit-percent")&&(t=!0)}),t}t.a=r;var p=a(134),_=(a.n(p),a(4)),v=a(8)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),i=a(92),n=a(27),s=a(8),o=a(80),d=a(91),c=a(81),f=a(79),l=a(0),u=a(93),p=a(94);a.d(t,"profileHeader",function(){return u}),a.d(t,"common",function(){return r}),a.d(t,"panelMode",function(){return i}),a.d(t,"filter",function(){return n}),a.d(t,"tradeoffer",function(){return s}),a.d(t,"items",function(){return o}),a.d(t,"lots",function(){return d}),a.d(t,"itemsRule",function(){return c}),a.d(t,"footer",function(){return f}),a.d(t,"global",function(){return l}),a.d(t,"tradeofferLite",function(){return p})},function(e,t,a){"use strict";function r(){$J(".tradeoffer_items.primary").after('\n  <div class="sih_spliter">\n      <div class="horizontal_line"></div>\n      <div class="arrows"></div>\n      <div class="horizontal_line"></div>\n  </div>\n  ')}t.a=r;var i=a(141);a.n(i)},,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);